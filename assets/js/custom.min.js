!function(e){e(".c-global-chat").on("click",".js-toggle-chat-sidebar",function(){e(this).toggleClass("is-active"),e(".c-global-chat, .c-chat-sidebar").toggleClass("is-active")}),e(".c-chat-sidebar").on("click",".js-toggle-chat-friend-list",function(){e(this).toggleClass("is-toggled").next(".c-chat-friend-list").slideToggle(250)}),e(".c-chat-sidebar").on("click",".js-toggle-chat-sidebar-width",function(){e(".c-chat-sidebar").toggleClass("is-open")}),e(".c-chat-sidebar").on("click",".js-add-chat-dock-window",function(){var c=e(".c-chat-dock-container");if(5===e(".c-chat-window").length){var t=c.children(".c-chat-window").first();t.hasClass("m-chat-window-lobby")?t.next().remove():t.remove()}var a="templates/window-"+e(this).data("type")+".html";e.get(a,function(t){c.append(t)})}),e(".c-chat-dock").on("click",".js-toggle-chat-window",function(){var t=e(this).closest(".c-chat-window"),c=t.find(".c-chat-window-avatar .c-avatar");c.hasClass("m-avatar-badge")&&c.removeClass("m-avatar-badge"),t.toggleClass("is-open")}),e(".c-chat-dock").on("click",".js-close-chat-window",function(){e(this).closest(".c-chat-window").fadeOut(125).remove()}),e(".c-chat-dock").on("keypress",".c-chat-window-input",function(t){if(13===t.which&&!t.shiftKey)return e(this).closest("form")[0].reset(),t.preventDefault(),!1}),e(".js-demo-toggle-bg").click(function(){e("body").toggleClass("has-bg")}),e(".js-demo-enter-lobby").click(function(){var c=e(".c-chat-dock-container"),t=c.children(".c-chat-window").first();t.hasClass(".m-chat-window-lobby")||(5===e(".c-chat-item").length&&t.remove(),e.get("templates/lobby.html",function(t){c.prepend(t)}))})}(jQuery);