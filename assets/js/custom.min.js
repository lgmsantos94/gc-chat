!function(o){o(".c-global-chat").on("click",".js-toggle-chat-sidebar",function(){o(this).toggleClass("is-active"),o(".c-global-chat, .c-chat-sidebar").toggleClass("is-active")}),o(".c-chat-sidebar").on("click",".js-toggle-chat-friend-list",function(){o(this).toggleClass("is-toggled").next(".c-chat-friend-list").slideToggle(250)}),o(".c-chat-sidebar").on("click",".js-toggle-chat-sidebar-width",function(){o(".c-chat-sidebar").toggleClass("is-open")}),o(".c-chat-sidebar").on("click",".js-add-chat-dock-window",function(){var c=o(".c-chat-dock-container");if(5===o(".c-chat-window").length){var t=c.children(".c-chat-window").first();t.hasClass("m-chat-window-lobby")?t.next().remove():t.remove()}var a="templates/window-"+o(this).data("type")+".html";o.get(a,function(t){c.append(t)})}),o(".c-chat-dock").on("click",".js-toggle-chat-window",function(){var t=o(this).closest(".c-chat-window"),c=t.find(".c-chat-window-avatar .c-avatar");c.hasClass("m-avatar-badge")&&c.removeClass("m-avatar-badge"),t.toggleClass("is-open")}),o(".c-chat-dock").on("click",".js-close-chat-window",function(){o(this).closest(".c-chat-window").fadeOut(50,function(){o(this).remove()})}),o(".c-chat-dock").on("keypress",".c-chat-window-input",function(t){if(13===t.which&&!t.shiftKey)return o(this).closest("form")[0].reset(),t.preventDefault(),!1}),o(".js-demo-toggle-bg").click(function(){o("body").toggleClass("has-bg")}),o(".js-demo-enter-lobby").click(function(){var c=o(".c-chat-dock-container"),t=c.children(".c-chat-window").first();t.hasClass("m-chat-window-lobby")||(5===o(".c-chat-window").length&&t.remove(),o.get("templates/window-lobby.html",function(t){c.prepend(t)}))})}(jQuery);