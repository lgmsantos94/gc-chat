!function(a){a(".c-global-chat").on("click",".js-toggle-chat-sidebar",function(){a(this).toggleClass("is-active"),a(".c-global-chat, .c-chat-sidebar").toggleClass("is-active")}),a(".c-chat-sidebar").on("click",".js-toggle-chat-friend-list",function(){a(this).toggleClass("is-toggled").next(".c-chat-friend-list").slideToggle(250)}),a(".c-chat-sidebar").on("click",".js-toggle-chat-sidebar-width",function(){a(".c-chat-sidebar").toggleClass("is-open")}),a(".chat-sidebar").on("click",".js-add-chat-dock-item",function(){var c=a(".chat-dock__container");if(5===a(".chat-item").length){var t=c.children(".chat-item").first();t.hasClass("chat-item--lobby")?t.next().remove():t.remove()}var e="templates/"+a(this).data("type")+".html";a.get(e,function(t){c.append(t)})}),a(".chat-dock").on("click",".js-toggle-chat-dock-window",function(){var t=a(this).closest(".chat-item"),c=t.find(".chat-item__avatar .avatar");c.hasClass("avatar--notification")&&c.removeClass("avatar--notification"),t.toggleClass("is-open")}),a(".chat-dock").on("click",".js-close-chat-dock-item",function(){a(this).closest(".chat-item").remove()}),a(".chat-dock").on("keypress",".chat-item__input",function(t){if(13===t.which&&!t.shiftKey)return a(this).closest("form")[0].reset(),t.preventDefault(),!1}),a(".js-demo-toggle-bg").click(function(){a("body").toggleClass("has-bg")}),a(".js-demo-enter-lobby").click(function(){var c=a(".chat-dock__container"),t=c.children(".chat-item").first();t.hasClass("chat-item--lobby")||(5===a(".chat-item").length&&t.remove(),a.get("templates/lobby.html",function(t){c.prepend(t)}))})}(jQuery);